(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{34482:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var o={},n=e.split(";"),i=(t||{}).decode||r,s=0;s<n.length;s++){var a=n[s],u=a.indexOf("=");if(!(u<0)){var c=a.substring(0,u).trim();if(void 0==o[c]){var l=a.substring(u+1,a.length).trim();'"'===l[0]&&(l=l.slice(1,-1)),o[c]=function(e,t){try{return t(e)}catch(t){return e}}(l,i)}}}return o},t.serialize=function(e,t,r){var i=r||{},s=i.encode||o;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!n.test(a))throw TypeError("argument val is invalid");var u=e+"="+a;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(i.domain){if(!n.test(i.domain))throw TypeError("option domain is invalid");u+="; Domain="+i.domain}if(i.path){if(!n.test(i.path))throw TypeError("option path is invalid");u+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(u+="; HttpOnly"),i.secure&&(u+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var r=decodeURIComponent,o=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},47713:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>t.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.hasCookie=t.deleteCookie=t.setCookie=t.getCookie=t.getCookies=void 0;var i=r(34482),isClientSide=function(){return"undefined"!=typeof window},isCookiesFromAppRouterMiddleware=function(e){return!!e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},isContextFromAppRouterMiddleware=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&isCookiesFromAppRouterMiddleware(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&isCookiesFromAppRouterMiddleware(null==e?void 0:e.res.cookies)},transformAppRouterMiddlewareCookies=function(e){var t={};return e.getAll().forEach(function(e){var r=e.name,o=e.value;t[r]=o}),t},stringify=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.getCookies=function(e){if(isContextFromAppRouterMiddleware(e)&&(null==e?void 0:e.req))return transformAppRouterMiddlewareCookies(e.req.cookies);if(e&&(t=e.req),!isClientSide())return t&&t.cookies?t.cookies:t&&t.headers.cookie?(0,i.parse)(t.headers.cookie):{};for(var t,r={},o=document.cookie?document.cookie.split("; "):[],n=0,s=o.length;n<s;n++){var a=o[n].split("="),u=a.slice(1).join("=");r[a[0]]=u}return r},t.getCookie=function(e,r){var o=(0,t.getCookies)(r)[e];if(void 0!==o)return o?o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):o},t.setCookie=function(e,t,r){if(isContextFromAppRouterMiddleware(r)){var s,a,u,c=r.req,l=r.res,f=n(r,["req","res"]),d=o({name:e,value:t},f);c&&c.cookies.set(d),l&&l.cookies.set(d);return}if(r){var c=r.req,l=r.res,p=n(r,["req","res"]);a=c,u=l,s=p}var h=(0,i.serialize)(e,stringify(t),o({path:"/"},s));if(isClientSide())document.cookie=h;else if(u&&a){var m=u.getHeader("Set-Cookie");if(Array.isArray(m)||(m=m?[String(m)]:[]),u.setHeader("Set-Cookie",m.concat(h)),a&&a.cookies){var v=a.cookies;""===t?delete v[e]:v[e]=stringify(t)}if(a&&a.headers&&a.headers.cookie){var v=(0,i.parse)(a.headers.cookie);""===t?delete v[e]:v[e]=stringify(t),a.headers.cookie=Object.entries(v).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.deleteCookie=function(e,r){return(0,t.setCookie)(e,"",o(o({},r),{maxAge:-1}))},t.hasCookie=function(e,r){return!!e&&(0,t.getCookies)(r).hasOwnProperty(e)}},62601:function(e,t,r){"use strict";var o,n;e.exports=(null==(o=r.g.process)?void 0:o.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(58960)},10493:function(e,t,r){Promise.resolve().then(r.bind(r,84892))},84892:function(e,t,r){"use strict";r.r(t);var o=r(57437),n=r(96030),i=r(24033);t.default=e=>{let{children:t}=e,r=(0,n.a)(),{user:s}=r;return s&&(0,i.redirect)("/user",i.RedirectType.replace),(0,o.jsx)(o.Fragment,{children:t})}},65966:function(e,t,r){"use strict";r.d(t,{H:function(){return AuthProvider},V:function(){return u}});var o=r(57437),n=r(47713),i=r(2265),s=r(62601);let a=s.env.NEXT_PUBLIC_API_URL,u=(0,i.createContext)({}),AuthProvider=e=>{let{children:t}=e,[r,s]=(0,i.useState)(void 0);return((0,i.useEffect)(()=>{let userFetch=async e=>{try{let t=await fetch("".concat(a,"/accounts/iam"),{headers:{Authorization:"Bearer ".concat(e)}}),r=await t.json();s(r)}catch(e){console.log(e)}},e=(0,n.getCookie)("token");if(e){userFetch(e);return}s(null)},[]),void 0===r)?(0,o.jsx)("main",{className:"flex justify-center w-full min-h-[100dvh]",children:(0,o.jsx)("section",{className:"flex items-center justify-center w-full max-w-7xl container-padding",children:(0,o.jsxs)("div",{className:"card w-full max-w-md flex-shrink-0 xs:bg-base-200 xs:shadow-md container-padding",children:[(0,o.jsx)("header",{className:"card-body flex items-center justify-center w-full mb-8",children:(0,o.jsx)("h2",{className:"card-title text-3xl text-center",children:"Econominhas"})}),(0,o.jsx)("div",{className:"flex items-center justify-center flex-col",children:(0,o.jsx)("progress",{className:"progress w-56"})})]})})}):(0,o.jsx)(u.Provider,{value:{user:r,logout:()=>{(0,n.deleteCookie)("token"),s(null)}},children:t})}},96030:function(e,t,r){"use strict";r.d(t,{a:function(){return useAuth}});var o=r(65966),n=r(2265);let useAuth=()=>{let e=(0,n.useContext)(o.V);if(!e)throw Error("useAuth must be used within a AuthProvider");return e}},58960:function(e){!function(){var t={229:function(e){var t,r,o,n=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var i=[],s=!1,a=-1;function cleanUpNextTick(){s&&o&&(s=!1,o.length?i=o.concat(i):a=-1,i.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=i.length;t;){for(o=i,i=[];++a<t;)o&&o[a].run();a=-1,t=i.length}o=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new Item(e,t)),1!==i.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function __nccwpck_require__(e){var o=r[e];if(void 0!==o)return o.exports;var n=r[e]={exports:{}},i=!0;try{t[e](n,n.exports,__nccwpck_require__),i=!1}finally{i&&delete r[e]}return n.exports}__nccwpck_require__.ab="//";var o=__nccwpck_require__(229);e.exports=o}()},30622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(2265),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var o,i={},c=null,l=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,o)&&!u.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:n,type:e,key:c,ref:l,props:i,_owner:a.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},57437:function(e,t,r){"use strict";e.exports=r(30622)},24033:function(e,t,r){e.exports=r(20290)}},function(e){e.O(0,[971,864,744],function(){return e(e.s=10493)}),_N_E=e.O()}]);